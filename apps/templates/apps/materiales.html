{% extends 'apps/base.html' %}

{% load static %}

{% block title %} Template hecho con Herencia {% endblock title %}

{% block main %}
<!DOCTYPE html>
{% load static %}

            <!-- Page content-->
            <section class="py-5">
                <div class="container px-5">
                    <!-- Materiales form-->
                    <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
                        <div class="text-center mb-5">
                            <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-box-seam"></i></div>
                            <h1 class="fw-bolder">Materiales</h1>
                            <p class="lead fw-normal text-muted mb-0">Recibi nuestras ofertas</p>
                        </div>
                        <div class="row gx-5 justify-content-center">
                            <div class="col-lg-8 col-xl-6">
                                <form id="materiales" method="POST">
                                    {% csrf_token %}
                                    <div class="form-floating mb-3">
                                        <input class="form-control" id="material" type="text" name="material" placeholder="Ingrese el material..." required />
                                        <label for="name">Material</label>
                                        <div class="invalid-feedback">A name is required.</div>
                                    </div>
                                    <div class="form-floating mb-3">
                                        <input class="form-control" id="color" type="text" name="color" placeholder="Rojo" required />
                                        <label for="name">Color</label>
                                        <div class="invalid-feedback">An email is required.</div>
                                        <div class="invalid-feedback">Email is not valid.</div>
                                    </div>
                                    <div class="d-grid">
                                        <button class="btn btn-primary btn-lg" id="submitButton" type="submit">Submit</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                <!-- Formulario de búsqueda -->
                <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
                    <div class="text-center mb-5">
                        <div class="feature bg-primary bg-gradient text-white rounded-3 mb-3"><i class="bi bi-search"></i></div>
                        <h1 class="fw-bolder">Buscar Materiales por Color</h1>
                        <p class="lead fw-normal text-muted mb-0">Ingresa un color para ver los materiales disponibles</p>
                    </div>
                    <div class="row gx-5 justify-content-center">
                        <div class="col-lg-8 col-xl-6">
                            <form method="GET">
                                {% csrf_token %}
                                <div class="form-floating mb-3">
                                    <input class="form-control" id="search_color" type="text" name="color" placeholder="Ingrese el color..." value="{{ search_form.color.value }}" required />
                                    <label for="search_color">Color</label>
                                </div>
                                <div class="d-grid">
                                    <button class="btn btn-primary btn-lg" type="submit">Buscar</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>

                <!-- Resultados de la búsqueda -->
                {% if materiales %}
                <div class="bg-light rounded-3 py-5 px-4 px-md-5 mb-5">
                    <div class="text-center mb-5">
                        <h2 class="fw-bolder">Resultados de la Búsqueda</h2>
                    </div>
                    <div class="row gx-5 justify-content-center">
                        <div class="col-lg-8 col-xl-6">
                            <ul class="list-group">
                                {% for material in materiales %}
                                <li class="list-group-item">
                                    <strong>Material:</strong> {{ material.material }} | <strong>Color:</strong> {{ material.color }}<br>                
                                </li>
                                {% endfor %}
                            </ul>
                        </div>
                    </div>
                </div>
                {% endif %}
                </div>
                </section>
                {% endblock main %}